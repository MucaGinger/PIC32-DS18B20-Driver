#ifndef EDC_H
#define EDC_H

/******************************************************************************/
/*----------------------------------Includes----------------------------------*/
/******************************************************************************/

/** Standard libs **/
#include <stdlib.h>
#include <stdint.h>
#include <stdbool.h>

/******************************************************************************/
/*---------------------------------Macros-------------------------------------*/
/******************************************************************************/

#ifndef INLINE
#define INLINE  inline __attribute__ ((always_inline))
#endif

#ifndef bool
#define bool  bool
#endif

/** Max. amount of CRC devices using this library (affects memory consumption) **/
#define CRC_MAX_DEVICE_COUNT   10

/******************************************************************************/
/*----------------------------Enumeration Types-------------------------------*/
/******************************************************************************/

typedef enum {
    CRC_POLY_SIZE_8 = 8,
    CRC_POLY_SIZE_16 = 16,
    CRC_POLY_SIZE_32 = 32
} CrcPolySize_t;

/******************************************************************************/
/*-----------------------------Data Structures--------------------------------*/
/******************************************************************************/

typedef struct {
    const uint32_t poly;
    const CrcPolySize_t polySize;
    const bool isInputReflected;
    const bool isCrcReflected;
} CrcConfig_t;

/******************************************************************************/
/*---------------------------- Function Prototypes----------------------------*/
/******************************************************************************/

bool EDC_GenerateCrcLut(CrcConfig_t crcConfig);
uint32_t EDC_CalculateCrc(const uint32_t poly, void *dPtr, const uint32_t dataLen);

/******************************************************************************/
/*-----------------------------Function In-lines------------------------------*/
/******************************************************************************/

#endif /* EDC_H */